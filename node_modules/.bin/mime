#!/bin/sh

# Get the base directory
basedir=$(cd $(dirname "$0") && pwd)

# Check if the current OS is CYGWIN, MINGW, or MSYS
case `uname` in
    *CYGWIN*|*MINGW*|*MSYS*) basedir=$(cygpath -w "$basedir");;
esac

# Check if the node executable exists in the base directory
if [ -x "$basedir/node" ]; then
  exec "$basedir/node"  "$basedir/../mime/cli.js" "$@"
# If not, check if the node command is available in the system
elif command -v node >/dev/null 2>&1; then
  exec node  "$basedir/../mime/cli.js" "$@"
else
  # If node is not available, print an error message and exit
  echo "Error: node command not found" >&2
  exit 1
fi

