/// <reference types="node" />
import { DatabaseError } from './messages';
import { serialize } from './serializer';
import { MessageCallback } from './parser';

export async function parse(stream: NodeJS.ReadableStream, callback: MessageCallback): Promise<void> {
  for await (const chunk of stream) {
    // TODO: parse chunk and call callback
  }
}

export { serialize, DatabaseError };

