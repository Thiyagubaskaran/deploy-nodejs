'use strict';

const gOPD = require('gopd');
const bind = require('function-bind');

const hasConfigurableLength = (fn) => {
  if (!gOPD || !gOPD(fn, 'length')) return false;
  return Object.getOwnPropertyDescriptor(fn, 'length').configurable;
};

const hasWritableLength = (fn) => {
  if (!gOPD || !gOPD(fn, 'length')) return false;
  return Object.getOwnPropertyDescriptor(fn, 'length').writable;
};

module.exports = {
  __proto__: null,
  boundFnsHaveConfigurableLengths: hasConfigurableLength(bind.call(function () {})),
  boundFnsHaveWritableLengths: hasWritableLength(bind.call(function () {})),
  functionsHaveConfigurableLengths: hasConfigurableLength(function () {}),
  functionsHaveWritableLengths: hasWritableLength(function () {}),
};
